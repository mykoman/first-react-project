<!DOCTYPE html>
<html>

<head>
    <title>Welcome to React JS</title>
    <script src="js/react.js"></script>
    <script src="js/react-dom.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser.js"></script>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div id="app">

    </div>



    <script type=text/babel> 
    //navbar component
        var Navbar=React.createClass({ 
            //let's do some validations
            //require it and ensure it's a string
            propTypes: {
                brand: React.PropTypes.string.isRequired,
            },
            getDefaultProps: function(){
                return {
                    brand: 'sample react',
                    color: 'light'
                }
            },
            render: function(){ 
                if(this.props.color == 'dark')
                {
                    var thecolor = 'navbar navbar-inverse';
                }
                else
                {
                    var thecolor = 'navbar navbar-default';
                }

                var homeActive = '';
                var aboutActive = '';
                if(this.props.page == 'home')
                {
                    homeActive = 'active'
                    //alert(homeActive);
                }
                else if(this.props.page == 'about')
                {
                    aboutActive = 'active'
                }
              return ( <div>
        <nav className={thecolor}>
            <div className="container-fluid">
              
              <div className="navbar-header">
                <button type="button" className="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                  <span className="sr-only">Toggle navigation</span>
                  <span className="icon-bar"></span>
                  <span className="icon-bar"></span>
                  <span className="icon-bar"></span>
                </button>
                <a className="navbar-brand" href="#">{this.props.brand}</a>
              </div>
          
              
              <div className="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul className="nav navbar-nav">
                  <li className={homeActive}><a  onClick={this.props.home_click} href="#">Home </a></li>
                  <li className={aboutActive}><a  onClick={this.props.about_click} href="#">About</a></li>
                  
                </ul>
                
              </div>
            </div>
          </nav>
                          </div>
                      )
                  }
              });

              //jumbotron component
             var Jumbotron = React.createClass({
                getDefaultProps: function(){
                return {
                    heading: 'My first React website',
                    link: 'https://google.com',
                    description: 'We started with angular now we have gone to react. We always have to keep on progressing'
                }
            },

                 render: function () {
                     return(<div className="jumbotron">
        <div className="container">
            <h1>{this.props.heading}</h1>
            <p>{this.props.description}</p>
            <p><a className="btn btn-primary btn-lg" href={this.props.link} role="button">Learn more &raquo;</a></p>
        </div>
    </div>)
                 }
             });

             //homepage component
             var Homepage = React.createClass({
                 render: function () {
                     return(<div className= "container">
                            <div className="row">
                                <h2>Homepage </h2>
                                <p> Michael's first react project</p>
                            </div>

                            <hr />
                        </div>)
                 }
             });

             //about page component
             var Aboutpage = React.createClass({
                 render: function () {
                     return(<div className= "container">
                            <div className="row">
                                <h2>About Us </h2>
                                <p> This React project was started and completed in less than 24hrs by Michael Ogbuma and this is his first on React</p>
                            </div>

                            <hr />
                        </div>)
                 }
             });

             //footer component
             var Footer = React.createClass({
                 render: function () {
                     return(<div className= "container">
                            <footer>
                                <p>&copy; 2016 mykoman, Inc.</p>
                            </footer>
                        </div>)
                 }
             });
             
             // main app component
             var App = React.createClass({
                 getInitialState: function () {
                     return {
                         page: 'home'
                     }
                 },
                 handle_home_click: function(){
                     //alert('hi');
                    this.setState({
                        page: 'home'
                     })
                 },
                 handle_about_click: function(){
                    this.setState({
                        page: 'about'
                     })
                 },

                 render: function () {
                     if(this.state.page == "home")
                     {
                         var jumbotron = <Jumbotron/>
                         var page = <Homepage />
                     }
                     else if(this.state.page == "about")
                     {
                         var jumbotron = '';
                         var page = <Aboutpage/>
                     }
                     return( <div>
                        <Navbar  
                                page = {this.state.page}
                                home_click= {this.handle_home_click}
                                about_click ={this.handle_about_click} />
                        {jumbotron}
                        {page}
                        <Footer />
                     </div>

                     )
                 }
             });

              ReactDOM.render(
                  <App/>, 
                  document.getElementById('app')
              )
          </script>

</body>

</html>